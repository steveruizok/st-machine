{"moduleFile":{"sourceFilePath":"/Users/stephenruiz/GitHub/st-machine/src/components/demo-traffic-light/demo-traffic-light.tsx","localImports":["/Users/stephenruiz/GitHub/st-machine/src/st-machine"],"externalImports":["@stencil/core"],"potentialCmpRefs":[{"tag":"app-machine-status"}],"cmpMeta":{"tagNameMeta":"demo-traffic-light","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/Users/stephenruiz/GitHub/st-machine/src/components/demo-traffic-light/demo-traffic-light.css","cmpRelativePath":"demo-traffic-light.css","originalComponentPath":"demo-traffic-light.css"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"DemoTrafficLight","documentation":"","type":"typeof DemoTrafficLight"},"encapsulation":0,"componentClass":"DemoTrafficLight","membersMeta":{"mState":{"memberType":5}},"eventsMeta":[],"listenersMeta":[]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/Users/stephenruiz/GitHub/st-machine/src/components/demo-traffic-light/demo-traffic-light.js"},"jsText":"import StateMachine from \"../../st-machine\";\r\nconst stateMap = {\r\n    initial: \"red\",\r\n    states: [\r\n        {\r\n            name: \"red\",\r\n            initial: \"walk\",\r\n            states: [\r\n                {\r\n                    name: \"walk\",\r\n                    transitions: [{ action: \"tick\", response: \"wait\" }]\r\n                },\r\n                {\r\n                    name: \"wait\",\r\n                    transitions: [{ action: \"tick\", response: \"stop\" }]\r\n                },\r\n                {\r\n                    name: \"stop\",\r\n                    transitions: [{ action: \"tick\", response: \"green\" }]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            name: \"green\",\r\n            transitions: [\r\n                {\r\n                    action: \"tick\",\r\n                    response: \"yellow\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            name: \"yellow\",\r\n            transitions: [\r\n                {\r\n                    action: \"tick\",\r\n                    response: \"red\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\nconst Machine = new StateMachine(stateMap);\r\nexport class DemoTrafficLight {\r\n    componentWillLoad() {\r\n        Machine.subscribe(this);\r\n    }\r\n    componentDidLoad() { }\r\n    render() {\r\n        let red = \"light red\";\r\n        let yellow = \"light yellow\";\r\n        let green = \"light green\";\r\n        switch (Machine.current.name) {\r\n            case \"yellow\":\r\n                yellow += \" on\";\r\n                break;\r\n            case \"green\":\r\n                green += \" on\";\r\n                break;\r\n        }\r\n        if (Machine.pathIncludes(\"red\")) {\r\n            red += \" on\";\r\n        }\r\n        return (h(\"div\", null,\r\n            h(\"app-machine-status\", { machine: Machine }),\r\n            h(\"div\", { class: \"card\" },\r\n                h(\"div\", { class: red }),\r\n                h(\"div\", { class: yellow }),\r\n                h(\"div\", { class: green })),\r\n            h(\"div\", { class: \"card machine-controls\" },\r\n                h(\"button\", { onClick: () => {\r\n                        Machine.dispatch(\"tick\");\r\n                    } }, \"Tick\")),\r\n            h(\"div\", { class: \"card machine-undo-redo\" },\r\n                h(\"p\", { class: \"label\" }, \"History\"),\r\n                h(\"button\", { onClick: Machine.undo }, \"Undo\"),\r\n                h(\"button\", { onClick: Machine.redo }, \"Redo\"))));\r\n    }\r\n    static get is() { return \"demo-traffic-light\"; }\r\n    static get properties() { return {\r\n        \"mState\": {\r\n            \"state\": true\r\n        }\r\n    }; }\r\n    static get style() { return \"/**style-placeholder:demo-traffic-light:**/\"; }\r\n}\r\n"}